"use strict";(()=>{var e={};e.id=649,e.ids=[649],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6602:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>en,patchFetch:()=>ea,requestAsyncStorage:()=>ee,routeModule:()=>X,serverHooks:()=>er,staticGenerationAsyncStorage:()=>et});var n={};r.r(n),r.d(n,{GET:()=>K});var a=r(3036),o=r(5736),s=r(5262);let i={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,UNSUPPORTED_MEDIA_TYPE:-32015,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099},u={[-32700]:"PARSE_ERROR",[-32600]:"BAD_REQUEST",[-32603]:"INTERNAL_SERVER_ERROR",[-32001]:"UNAUTHORIZED",[-32003]:"FORBIDDEN",[-32004]:"NOT_FOUND",[-32005]:"METHOD_NOT_SUPPORTED",[-32008]:"TIMEOUT",[-32009]:"CONFLICT",[-32012]:"PRECONDITION_FAILED",[-32013]:"PAYLOAD_TOO_LARGE",[-32015]:"UNSUPPORTED_MEDIA_TYPE",[-32022]:"UNPROCESSABLE_CONTENT",[-32029]:"TOO_MANY_REQUESTS",[-32099]:"CLIENT_CLOSED_REQUEST"},c={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,FORBIDDEN:403,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNSUPPORTED_MEDIA_TYPE:415,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501};function l(e){let{path:t,error:r,config:n}=e,{code:a}=e.error,o={message:r.message,code:i[a],data:{code:a,httpStatus:c[r.code]??500}};return n.isDev&&"string"==typeof e.error.stack&&(o.data.stack=e.error.stack),"string"==typeof t&&(o.data.path=t),n.errorFormatter({...e,shape:o})}let p=Symbol("unsetMarker");function f(e,...t){let r=Object.assign(Object.create(null),e);for(let e of t)for(let t in e){if(t in r&&r[t]!==e[t])throw Error(`Duplicate key ${t}`);r[t]=e[t]}return r}function d(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}function h(e){return"function"==typeof e}function E(e){return Object.assign(Object.create(null),e)}let m="function"==typeof Symbol&&!!Symbol.asyncIterator;class _ extends Error{}function y(e){if(e instanceof w||e instanceof Error&&"TRPCError"===e.name)return e;let t=new w({code:"INTERNAL_SERVER_ERROR",cause:e});return e instanceof Error&&e.stack&&(t.stack=e.stack),t}class w extends Error{constructor(e){let t=function(e){if(e instanceof Error)return e;let t=typeof e;if("undefined"!==t&&"function"!==t&&null!==e){if("object"!==t)return Error(String(e));if(d(e)){let t=new _;for(let r in e)t[r]=e[r];return t}}}(e.cause);super(e.message??t?.message??e.code,{cause:t}),this.code=e.code,this.name="TRPCError",this.cause||(this.cause=t)}}let O=()=>{},R=e=>(function e(t,r){return new Proxy(O,{get(n,a){if("string"==typeof a&&"then"!==a)return e(t,[...r,a])},apply(e,n,a){let o=r[r.length-1],s={args:a,path:r};return"call"===o?s={args:a.length>=2?[a[1]]:[],path:r.slice(0,-1)}:"apply"===o&&(s={args:a.length>=2?a[1]:[],path:r.slice(0,-1)}),t(s)}})})(e,[]),g=({shape:e})=>e,T={input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}};function S(e,t){return"error"in t?{...t,error:e.transformer.output.serialize(t.error)}:"data"in t.result?{...t,result:{...t.result,data:e.transformer.output.serialize(t.result.data)}}:t}function N(e,t){return Array.isArray(t)?t.map(t=>S(e,t)):S(e,t)}let D={_ctx:null,_errorShape:null,_meta:null,queries:{},mutations:{},subscriptions:{},errorFormatter:g,transformer:T},v=["then","call","apply"];function A(e){return function(t){let r=new Set(Object.keys(t).filter(e=>v.includes(e)));if(r.size>0)throw Error("Reserved words used in `router({})` call: "+Array.from(r).join(", "));let n=E({}),a=function e(t,r=[]){let a=E({});for(let[o,s]of Object.entries(t??{})){if(s._def&&"router"in s._def){a[o]=e(s._def.record,[...r,o]);continue}if(!P(s)){a[o]=e(s,[...r,o]);continue}let t=[...r,o].join(".");if(n[t])throw Error(`Duplicate key: ${t}`);n[t]=s,a[o]=s}return a}(t),o={_config:e,router:!0,procedures:n,...D,record:a};return{...a,_def:o,createCaller:I()({_def:o})}}}function P(e){return"function"==typeof e}function I(){return function(e){let t=e._def;return function(e,r){return R(async({path:n,args:a})=>{let o;let s=n.join("."),i=t.procedures[s];try{return o=h(e)?await Promise.resolve(e()):e,await i({path:s,getRawInput:async()=>a[0],ctx:o,type:i._def.type})}catch(e){throw r?.onError?.({ctx:o,error:y(e),input:a[0],path:s,type:i._def.type}),e}})}}}function x(...e){let t=f({},...e.map(e=>e._def.record));return A({errorFormatter:e.reduce((e,t)=>{if(t._def._config.errorFormatter&&t._def._config.errorFormatter!==g){if(e!==g&&e!==t._def._config.errorFormatter)throw Error("You seem to have several error formatters");return t._def._config.errorFormatter}return e},g),transformer:e.reduce((e,t)=>{if(t._def._config.transformer&&t._def._config.transformer!==T){if(e!==T&&e!==t._def._config.transformer)throw Error("You seem to have several transformers");return t._def._config.transformer}return e},T),isDev:e.every(e=>e._def._config.isDev),allowOutsideOfServer:e.every(e=>e._def._config.allowOutsideOfServer),isServer:e.every(e=>e._def._config.isServer),$types:e[0]?._def._config.$types})(t)}function U(e){return(d(e)||h(e))&&"function"==typeof e?.then&&"function"==typeof e?.catch}class b extends Error{constructor(e){super("Max depth reached at path: "+e.join(".")),this.path=e}}function M(e){let t=null,r=p;return{read:async()=>(r!==p||(null===t&&(t=e().catch(e=>{if(e instanceof w)throw e;throw new w({code:"BAD_REQUEST",message:e instanceof Error?e.message:"Invalid input",cause:e})})),r=await t,t=null),r),result:()=>r!==p?r:void 0}}let C={isMatch:e=>!!e.headers.get("content-type")?.startsWith("application/json"),parse(e){let{req:t}=e,r="1"===e.searchParams.get("batch"),n=r?e.path.split(","):[e.path],a=M(async()=>{let a;if("GET"===t.method){let t=e.searchParams.get("input");t&&(a=JSON.parse(t))}else a=await t.json();if(void 0===a)return{};if(!r)return{0:e.config.transformer.input.deserialize(a)};if(!d(a))throw new w({code:"BAD_REQUEST",message:'"input" needs to be an object when doing a batch call'});let o={};for(let t of n.keys()){let r=a[t];void 0!==r&&(o[t]=e.config.transformer.input.deserialize(r))}return o});return{isBatchCall:r,calls:n.map((e,t)=>({path:e,getRawInput:async()=>(await a.read())[t],result:()=>a.result()?.[t]}))}}},q=[C,{isMatch:e=>!!e.headers.get("content-type")?.startsWith("multipart/form-data"),parse(e){let{req:t}=e;if("POST"!==t.method)throw new w({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for multipart/form-data requests"});let r=M(async()=>await t.formData());return{calls:[{path:e.path,getRawInput:r.read,result:r.result}],isBatchCall:!1}}},{isMatch:e=>!!e.headers.get("content-type")?.startsWith("application/octet-stream"),parse(e){let{req:t}=e;if("POST"!==t.method)throw new w({code:"METHOD_NOT_SUPPORTED",message:"Only POST requests are supported for application/octet-stream requests"});let r=M(async()=>t.body);return{calls:[{path:e.path,getRawInput:r.read,result:r.result}],isBatchCall:!1}}}],L={GET:"query",POST:"mutation"};function j(e){let{ctx:t,info:r,type:n,responseMeta:a,untransformedJSON:o,errors:s=[],headers:i}=e,l=o?function(e){let t=new Set((Array.isArray(e)?e:[e]).map(e=>{if("error"in e){let t=e.error.data;return"number"==typeof t.httpStatus?t.httpStatus:c[u[e.error.code]]??500}return 200}));return 1!==t.size?207:t.values().next().value}(o):200,p=!o,f=p?[]:Array.isArray(o)?o:[o],d=a?.({ctx:t,info:r,paths:r?.calls.map(e=>e.path),type:n,data:f,errors:s,eagerGeneration:p})??{};if(d.headers){if(d.headers instanceof Headers)for(let[e,t]of d.headers.entries())i.append(e,t);else for(let[e,t]of Object.entries(d.headers))if(Array.isArray(t))for(let r of t)i.append(e,r);else"string"==typeof t&&i.set(e,t)}return d.status&&(l=d.status),{status:l}}async function k(e){let t,r;let{router:n,req:a}=e,o=new Headers([["vary","trpc-accept"]]),s=new URL(a.url);if("HEAD"===a.method)return new Response(null,{status:204});let i=e.allowBatching??e.batching?.enabled??!0,u=(e.allowMethodOverride??!1)&&"POST"===a.method,c=L[a.method]??"unknown",p="application/jsonl"===a.headers.get("trpc-accept"),f=n._def._config.experimental?.iterablesAndDeferreds??!1;try{var h;if(h={req:a,path:decodeURIComponent(e.path),config:n._def._config,searchParams:s.searchParams},r=(function(e){let t=q.find(t=>t.isMatch(e));if(t)return t;if(!t&&"GET"===e.method)return C;throw new w({code:"UNSUPPORTED_MEDIA_TYPE",message:e.headers.has("content-type")?`Unsupported content-type "${e.headers.get("content-type")}`:"Missing content-type header"})})(h.req).parse(h),t=await e.createContext({info:r}),e.error)throw e.error;if(r.isBatchCall&&!i)throw new w({code:"BAD_REQUEST",message:"Batching is not enabled on the server"});if("unknown"===c)throw new w({message:`Unexpected request method ${a.method}`,code:"METHOD_NOT_SUPPORTED"});let E=[],_=r.calls.map(async r=>{try{let n=await function(e){let{type:t,path:r}=e,n=e.procedures[r];if(!n||!P(n)||n._def.type!==t&&!e.allowMethodOverride)throw new w({code:"NOT_FOUND",message:`No "${t}"-procedure on path "${r}"`});return n(e)}({procedures:e.router._def.procedures,path:r.path,getRawInput:r.getRawInput,ctx:t,type:c,allowMethodOverride:u});if((!p||!f)&&d(n)&&(Symbol.asyncIterator in n||Object.values(n).some(U))){if(!p)throw new w({code:"UNSUPPORTED_MEDIA_TYPE",message:"Cannot return async iterable or nested promises in non-streaming response"});if(!f)throw new w({code:"INTERNAL_SERVER_ERROR",message:'Missing experimental flag "iterablesAndDeferreds"'})}return{result:{data:n}}}catch(o){let n=y(o);E.push(n);let a=r.result();return e.onError?.({error:n,path:r.path,input:a,ctx:t,type:c,req:e.req}),{error:l({config:e.router._def._config,error:n,type:c,path:r.path,input:a,ctx:t})}}});if(!p){o.set("content-type","application/json");let a=await Promise.all(_),s=a.flatMap(e=>"error"in e?[e.error]:[]),i=j({ctx:t,info:r,type:c,responseMeta:e.responseMeta,untransformedJSON:a,errors:s,headers:o}),u=r.isBatchCall?a:a[0],l=N(n._def._config,u),p=JSON.stringify(l);return new Response(p,{status:i.status,headers:o})}o.set("content-type","application/json"),o.set("transfer-encoding","chunked");let O=j({ctx:t,info:r,type:c,responseMeta:e.responseMeta,errors:[],headers:o}),R=function(e){let[t,r]=function(e){let t,{data:r}=e,n=0,[a,o]=(t=null,[new ReadableStream({start(e){t=e}}),t]),s=new Set;function i(){0===s.size&&o.close()}function u(t){return e.maxDepth&&t.length>e.maxDepth?new b(t):null}function c(t,r){if(U(t))return[0,function(t,r){let a=u(r);a&&(t.catch(()=>{}),t=Promise.reject(a));let c=n++;s.add(c);let p=e=>{o.enqueue(e)};return t.then(e=>{p([c,0,l(e,r)])}).catch(t=>{e.onError?.({error:t,path:r}),p([c,1])}).finally(()=>{s.delete(c),i()}),c}(t,r)];if(m&&d(t)&&Symbol.asyncIterator in t){if(e.maxDepth&&r.length>=e.maxDepth)throw Error("Max depth reached");return[1,function(t,r){let a=u(r);a&&(t={[Symbol.asyncIterator](){throw a}});let c=n++;return s.add(c),(async()=>{try{for await(let e of t)o.enqueue([c,1,l(e,r)]);o.enqueue([c,0])}catch(t){e.onError?.({error:t,path:r}),o.enqueue([c,2])}finally{s.delete(c),i()}})(),c}(t,r)]}return null}function l(e,t){let r=c(e,t);if(r)return[[0],[null,...r]];if(!d(e))return[[e]];let n={},a=[];for(let[r,o]of Object.entries(e)){let e=c(o,[...t,r]);if(!e){n[r]=o;continue}n[r]=0,a.push([r,...e])}return[[n],...a]}let p={};for(let[e,t]of Object.entries(r))p[e]=l(t,[e]);return[p,a]}(e),{serialize:n}=e;return n&&(t=n(t),r=r.pipeThrough(new TransformStream({transform(e,t){t.enqueue(n(e))}}))),r.pipeThrough(new TransformStream({start(e){e.enqueue(JSON.stringify(t)+"\n")},transform(e,t){t.enqueue(JSON.stringify(e)+"\n")}})).pipeThrough(new TextEncoderStream)}({maxDepth:f?4:3,data:_.map(async e=>{let t=await e;return"result"in t?{...t,result:Promise.resolve({...t.result,data:Promise.resolve(t.result.data)})}:t}),serialize:e.router._def._config.transformer.output.serialize,onError:r=>{e.onError?.({error:y(r),path:void 0,input:void 0,ctx:t,type:c,req:e.req})}});return new Response(R,{headers:o,status:O.status})}catch(i){let{error:n,untransformedJSON:a,body:s}=function(e,t){let{router:r,req:n,onError:a}=t.opts,o=y(e);a?.({error:o,path:t.path,input:t.input,ctx:t.ctx,type:t.type,req:n});let s={error:l({config:r._def._config,error:o,type:t.type,path:t.path,input:t.input,ctx:t.ctx})},i=JSON.stringify(N(r._def._config,s));return{error:o,untransformedJSON:s,body:i}}(i,{opts:e,ctx:t,type:c});return new Response(s,{status:j({ctx:t,info:r,type:c,responseMeta:e.responseMeta,untransformedJSON:a,errors:[n],headers:o}).status,headers:o})}}let F="undefined"==typeof window||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||!!globalThis.process?.env?.JEST_WORKER_ID||!!globalThis.process?.env?.VITEST_WORKER_ID,B=e=>e=(e=e.startsWith("/")?e.slice(1):e).endsWith("/")?e.slice(0,-1):e;async function H(e){var t;let r=new Headers,n=async t=>e.createContext?.({req:e.req,resHeaders:r,...t}),a=B(new URL((t=e.req.url).startsWith("/")?`http://127.0.0.1${t}`:t).pathname),o=B(e.endpoint),s=B(a.slice(o.length));return await k({...e,req:e.req,createContext:n,path:s,error:null,onError(t){e?.onError?.({...t,req:e.req})},responseMeta(t){let n=e.responseMeta?.(t);if(n?.headers){if(n.headers instanceof Headers)for(let[e,t]of n.headers.entries())r.append(e,t);else for(let[e,t]of Object.entries(n.headers))if(Array.isArray(t))for(let n of t)r.append(e,n);else"string"==typeof t&&r.set(e,t)}return{headers:r,status:n?.status}}})}let Y="middlewareMarker";function z(e){if("function"==typeof e)return e;if("function"==typeof e.parseAsync)return e.parseAsync.bind(e);if("function"==typeof e.parse)return e.parse.bind(e);if("function"==typeof e.validateSync)return e.validateSync.bind(e);if("function"==typeof e.create)return e.create.bind(e);if("function"==typeof e.assert)return t=>(e.assert(t),t);throw Error("Could not find a validator fn")}function Q(e,t){let{middlewares:r=[],inputs:n,meta:a,...o}=t;return $({...f(e,o),inputs:[...e.inputs,...n??[]],middlewares:[...e.middlewares,...r],meta:e.meta&&a?{...e.meta,...a}:a??e.meta})}function $(e={}){let t={procedure:!0,inputs:[],middlewares:[],...e};return{_def:t,input(e){let r=z(e);return Q(t,{inputs:[e],middlewares:[function(e){let t=async function(t){let r;let n=await t.getRawInput();try{r=await e(n)}catch(e){throw new w({code:"BAD_REQUEST",cause:e})}let a=d(t.input)&&d(r)?{...t.input,...r}:r;return t.next({input:a})};return t._type="input",t}(r)]})},output(e){let r=z(e);return Q(t,{output:e,middlewares:[function(e){let t=async function({next:t}){let r=await t();if(!r.ok)return r;try{let t=await e(r.data);return{...r,data:t}}catch(e){throw new w({message:"Output validation failed",code:"INTERNAL_SERVER_ERROR",cause:e})}};return t._type="output",t}(r)]})},meta:e=>Q(t,{meta:e}),use:e=>Q(t,{middlewares:"_middlewares"in e?e._middlewares:[e]}),unstable_concat:e=>Q(t,e._def),query:e=>V({...t,type:"query"},e),mutation:e=>V({...t,type:"mutation"},e),subscription:e=>V({...t,type:"subscription"},e),experimental_caller:e=>Q(t,{caller:e})}}function V(e,t){let r=Q(e,{resolver:t,middlewares:[async function(e){return{marker:Y,ok:!0,data:await t(e),ctx:e.ctx}}]}),n={...r._def,type:e.type,experimental_caller:!!r._def.caller,meta:r._def.meta,$types:null},a=function(e){async function t(t){if(!t||!("getRawInput"in t))throw Error(G);async function r(n={index:0,ctx:t.ctx}){try{let a=e.middlewares[n.index];return await a({ctx:n.ctx,type:t.type,path:t.path,getRawInput:n.getRawInput??t.getRawInput,meta:e.meta,input:n.input,next:e=>r({index:n.index+1,ctx:e&&"ctx"in e?{...n.ctx,...e.ctx}:n.ctx,input:e&&"input"in e?e.input:n.input,getRawInput:e&&"getRawInput"in e?e.getRawInput:n.getRawInput})})}catch(e){return{ok:!1,error:y(e),marker:Y}}}let n=await r();if(!n)throw new w({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!n.ok)throw n.error;return n.data}return t._def=e,t}(r._def),o=r._def.caller;if(!o)return a;let s=async(...e)=>await o({args:e,invoke:a,_def:n});return s._def=n,s}let G=`
This is a client-only function.
If you want to call this function on the server, see https://trpc.io/docs/v11/server/server-side-calls
`.trim();class J{context(){return new J}meta(){return new J}create(e){var t;let r={transformer:"input"in(t=e?.transformer??T)?t:{input:t,output:t},isDev:e?.isDev??globalThis.process?.env.NODE_ENV!=="production",allowOutsideOfServer:e?.allowOutsideOfServer??!1,errorFormatter:e?.errorFormatter??g,isServer:e?.isServer??F,$types:null,experimental:e?.experimental??{}};if(!(e?.isServer??F)&&e?.allowOutsideOfServer!==!0)throw Error("You're trying to use @trpc/server in a non-server environment. This is not supported by default.");return{_config:r,procedure:$({meta:e?.defaultMeta}),middleware:function(e){return function e(t){return{_middlewares:t,unstable_pipe:r=>e([...t,..."_middlewares"in r?r._middlewares:[r]])}}([e])},router:A(r),mergeRouters:x,createCallerFactory:I()}}}let W=new J().create(),Z=(0,W.router)({getNumbersArray:W.procedure.query(async()=>[1,2,3,4])}),K=e=>H({endpoint:"/api/trpc",req:e,router:Z,createContext:()=>({})}),X=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/trpc/[trpc]/route",pathname:"/api/trpc/[trpc]",filename:"route",bundlePath:"app/api/trpc/[trpc]/route"},resolvedPagePath:"/Users/asadullohsadirdinov/Desktop/startups/100days/learn-platform/packages/client/src/app/api/trpc/[trpc]/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:ee,staticGenerationAsyncStorage:et,serverHooks:er}=X,en="/api/trpc/[trpc]/route";function ea(){return(0,s.patchFetch)({serverHooks:er,staticGenerationAsyncStorage:et})}},3036:(e,t,r)=>{e.exports=r(517)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[522],()=>r(6602));module.exports=n})();