"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[926],{3452:function(t,e,r){r.d(e,{j:function(){return n}});var i=r(7307),s=r(3583),n=new class extends i.l{#t;#e;#r;constructor(){super(),this.#r=t=>{if(!s.sk&&window.addEventListener){let e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){let t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return"boolean"==typeof this.#t?this.#t:globalThis.document?.visibilityState!=="hidden"}}},2051:function(t,e,r){r.d(e,{Gm:function(){return s},Qy:function(){return a},ZF:function(){return o}});var i=r(3583);function s(t){return{onFetch:(e,r)=>{let s=async()=>{let r;let s=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[],l=!1,h=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(e.signal.aborted?l=!0:e.signal.addEventListener("abort",()=>{l=!0}),e.signal)})},f=(0,i.cG)(e.options,e.fetchOptions),d=async(t,r,s)=>{if(l)return Promise.reject();if(null==r&&t.pages.length)return Promise.resolve(t);let n={queryKey:e.queryKey,pageParam:r,direction:s?"backward":"forward",meta:e.options.meta};h(n);let u=await f(n),{maxPages:a}=e.options,o=s?i.Ht:i.VX;return{pages:o(t.pages,u,a),pageParams:o(t.pageParams,r,a)}};if(a&&o.length){let t="backward"===a,e={pages:o,pageParams:c},i=(t?u:n)(s,e);r=await d(e,i,t)}else{r=await d({pages:[],pageParams:[]},c[0]??s.initialPageParam);let e=t??o.length;for(let t=1;t<e;t++){let t=n(s,r);r=await d(r,t)}}return r};e.options.persister?e.fetchFn=()=>e.options.persister?.(s,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=s}}}function n(t,{pages:e,pageParams:r}){let i=e.length-1;return t.getNextPageParam(e[i],e,r[i],r)}function u(t,{pages:e,pageParams:r}){return t.getPreviousPageParam?.(e[0],e,r[0],r)}function a(t,e){return!!e&&null!=n(t,e)}function o(t,e){return!!e&&!!t.getPreviousPageParam&&null!=u(t,e)}},7927:function(t,e,r){r.d(e,{R:function(){return a},m:function(){return u}});var i=r(4392),s=r(5919),n=r(4751),u=class extends s.F{#i;#s;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#s=t.mutationCache,this.#i=[],this.state=t.state||a(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#i.includes(t)||(this.#i.push(t),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#i=this.#i.filter(e=>e!==t),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#i.length||("pending"===this.state.status?this.scheduleGc():this.#s.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=(0,n.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(Error("No mutationFn found")),onFail:(t,e)=>{this.#u({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#u({type:"pause"})},onContinue:()=>{this.#u({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});let e="pending"===this.state.status,r=!this.#n.canStart();try{if(!e){this.#u({type:"pending",variables:t,isPaused:r}),await this.#s.config.onMutate?.(t,this);let e=await this.options.onMutate?.(t);e!==this.state.context&&this.#u({type:"pending",context:e,variables:t,isPaused:r})}let i=await this.#n.start();return await this.#s.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#u({type:"success",data:i}),i}catch(e){try{throw await this.#s.config.onError?.(e,t,this.state.context,this),await this.options.onError?.(e,t,this.state.context),await this.#s.config.onSettled?.(void 0,e,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,e,t,this.state.context),e}finally{this.#u({type:"error",error:e})}}finally{this.#s.runNext(this)}}#u(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"pending":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}})(this.state),i.V.batch(()=>{this.#i.forEach(e=>{e.onMutationUpdate(t)}),this.#s.notify({mutation:this,type:"updated",action:t})})}};function a(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},4392:function(t,e,r){r.d(e,{V:function(){return i}});var i=function(){let t=[],e=0,r=t=>{t()},i=t=>{t()},s=t=>setTimeout(t,0),n=i=>{e?t.push(i):s(()=>{r(i)})},u=()=>{let e=t;t=[],e.length&&s(()=>{i(()=>{e.forEach(t=>{r(t)})})})};return{batch:t=>{let r;e++;try{r=t()}finally{--e||u()}return r},batchCalls:t=>(...e)=>{n(()=>{t(...e)})},schedule:n,setNotifyFunction:t=>{r=t},setBatchNotifyFunction:t=>{i=t},setScheduler:t=>{s=t}}}()},335:function(t,e,r){r.d(e,{N:function(){return n}});var i=r(7307),s=r(3583),n=new class extends i.l{#a=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!s.sk&&window.addEventListener){let e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#a!==t&&(this.#a=t,this.listeners.forEach(e=>{e(t)}))}isOnline(){return this.#a}}},9319:function(t,e,r){r.d(e,{A:function(){return a},z:function(){return o}});var i=r(3583),s=r(4392),n=r(4751),u=r(5919),a=class extends u.F{#o;#c;#l;#n;#h;#f;constructor(t){super(),this.#f=!1,this.#h=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#l=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#o=t.state||function(t){let e="function"==typeof t.initialData?t.initialData():t.initialData,r=void 0!==e,i=r?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#h,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#l.remove(this)}setData(t,e){let r=(0,i.oE)(this.state.data,t,this.options);return this.#u({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#u({type:"setState",state:t,setStateOptions:e})}cancel(t){let e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(i.ZT).catch(i.ZT):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some(t=>!1!==t.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):void 0===this.state.data)}isStaleByTime(t=0){return this.state.isInvalidated||void 0===this.state.data||!(0,i.Kp)(this.state.dataUpdatedAt,t)}onFocus(){let t=this.observers.find(t=>t.shouldFetchOnWindowFocus());t?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){let t=this.observers.find(t=>t.shouldFetchOnReconnect());t?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#l.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#f?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#l.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#u({type:"invalidate"})}fetch(t,e){if("idle"!==this.state.fetchStatus){if(void 0!==this.state.data&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){let t=this.observers.find(t=>t.options.queryFn);t&&this.setOptions(t.options)}let r=new AbortController,s=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(this.#f=!0,r.signal)})},u={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>{let t=(0,i.cG)(this.options,e),r={queryKey:this.queryKey,meta:this.meta};return(s(r),this.#f=!1,this.options.persister)?this.options.persister(t,r,this):t(r)}};s(u),this.options.behavior?.onFetch(u,this),this.#c=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#u({type:"fetch",meta:u.fetchOptions?.meta});let a=t=>{(0,n.DV)(t)&&t.silent||this.#u({type:"error",error:t}),(0,n.DV)(t)||(this.#l.config.onError?.(t,this),this.#l.config.onSettled?.(this.state.data,t,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.#n=(0,n.Mz)({initialPromise:e?.initialPromise,fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:t=>{if(void 0===t){a(Error(`${this.queryHash} data is undefined`));return}this.setData(t),this.#l.config.onSuccess?.(t,this),this.#l.config.onSettled?.(t,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(t,e)=>{this.#u({type:"failed",failureCount:t,error:e})},onPause:()=>{this.#u({type:"pause"})},onContinue:()=>{this.#u({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0}),this.#n.start()}#u(t){this.state=(e=>{switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,...o(e.data,this.options),fetchMeta:t.meta??null};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let r=t.error;if((0,n.DV)(r)&&r.revert&&this.#c)return{...this.#c,fetchStatus:"idle"};return{...e,error:r,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),s.V.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#l.notify({query:this,type:"updated",action:t})})}};function o(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,n.Kw)(e.networkMode)?"fetching":"paused",...void 0===t&&{error:null,status:"pending"}}}},8771:function(t,e,r){r.d(e,{S:function(){return p}});var i=r(3583),s=r(9319),n=r(4392),u=r(7307),a=class extends u.l{constructor(t={}){super(),this.config=t,this.#d=new Map}#d;build(t,e,r){let n=e.queryKey,u=e.queryHash??(0,i.Rm)(n,e),a=this.get(u);return a||(a=new s.A({cache:this,queryKey:n,queryHash:u,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(a)),a}add(t){this.#d.has(t.queryHash)||(this.#d.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){let e=this.#d.get(t.queryHash);e&&(t.destroy(),e===t&&this.#d.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){n.V.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#d.get(t)}getAll(){return[...this.#d.values()]}find(t){let e={exact:!0,...t};return this.getAll().find(t=>(0,i._x)(e,t))}findAll(t={}){let e=this.getAll();return Object.keys(t).length>0?e.filter(e=>(0,i._x)(t,e)):e}notify(t){n.V.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){n.V.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){n.V.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},o=r(7927),c=class extends u.l{constructor(t={}){super(),this.config=t,this.#p=new Map,this.#y=Date.now()}#p;#y;build(t,e,r){let i=new o.m({mutationCache:this,mutationId:++this.#y,options:t.defaultMutationOptions(e),state:r});return this.add(i),i}add(t){let e=l(t),r=this.#p.get(e)??[];r.push(t),this.#p.set(e,r),this.notify({type:"added",mutation:t})}remove(t){let e=l(t);if(this.#p.has(e)){let r=this.#p.get(e)?.filter(e=>e!==t);r&&(0===r.length?this.#p.delete(e):this.#p.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){let e=this.#p.get(l(t))?.find(t=>"pending"===t.state.status);return!e||e===t}runNext(t){let e=this.#p.get(l(t))?.find(e=>e!==t&&e.state.isPaused);return e?.continue()??Promise.resolve()}clear(){n.V.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#p.values()].flat()}find(t){let e={exact:!0,...t};return this.getAll().find(t=>(0,i.X7)(e,t))}findAll(t={}){return this.getAll().filter(e=>(0,i.X7)(t,e))}notify(t){n.V.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){let t=this.getAll().filter(t=>t.state.isPaused);return n.V.batch(()=>Promise.all(t.map(t=>t.continue().catch(i.ZT))))}};function l(t){return t.options.scope?.id??String(t.mutationId)}var h=r(3452),f=r(335),d=r(2051),p=class{#m;#s;#h;#b;#g;#v;#w;#O;constructor(t={}){this.#m=t.queryCache||new a,this.#s=t.mutationCache||new c,this.#h=t.defaultOptions||{},this.#b=new Map,this.#g=new Map,this.#v=0}mount(){this.#v++,1===this.#v&&(this.#w=h.j.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#m.onFocus())}),this.#O=f.N.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#m.onOnline())}))}unmount(){this.#v--,0===this.#v&&(this.#w?.(),this.#w=void 0,this.#O?.(),this.#O=void 0)}isFetching(t){return this.#m.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#s.findAll({...t,status:"pending"}).length}getQueryData(t){let e=this.defaultQueryOptions({queryKey:t});return this.#m.get(e.queryHash)?.state.data}ensureQueryData(t){let e=this.getQueryData(t.queryKey);if(void 0===e)return this.fetchQuery(t);{let r=this.defaultQueryOptions(t),i=this.#m.build(this,r);return t.revalidateIfStale&&i.isStaleByTime(r.staleTime)&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return this.#m.findAll(t).map(({queryKey:t,state:e})=>[t,e.data])}setQueryData(t,e,r){let s=this.defaultQueryOptions({queryKey:t}),n=this.#m.get(s.queryHash),u=n?.state.data,a=(0,i.SE)(e,u);if(void 0!==a)return this.#m.build(this,s).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return n.V.batch(()=>this.#m.findAll(t).map(({queryKey:t})=>[t,this.setQueryData(t,e,r)]))}getQueryState(t){let e=this.defaultQueryOptions({queryKey:t});return this.#m.get(e.queryHash)?.state}removeQueries(t){let e=this.#m;n.V.batch(()=>{e.findAll(t).forEach(t=>{e.remove(t)})})}resetQueries(t,e){let r=this.#m,i={type:"active",...t};return n.V.batch(()=>(r.findAll(t).forEach(t=>{t.reset()}),this.refetchQueries(i,e)))}cancelQueries(t={},e={}){let r={revert:!0,...e};return Promise.all(n.V.batch(()=>this.#m.findAll(t).map(t=>t.cancel(r)))).then(i.ZT).catch(i.ZT)}invalidateQueries(t={},e={}){return n.V.batch(()=>{if(this.#m.findAll(t).forEach(t=>{t.invalidate()}),"none"===t.refetchType)return Promise.resolve();let r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){let r={...e,cancelRefetch:e?.cancelRefetch??!0};return Promise.all(n.V.batch(()=>this.#m.findAll(t).filter(t=>!t.isDisabled()).map(t=>{let e=t.fetch(void 0,r);return r.throwOnError||(e=e.catch(i.ZT)),"paused"===t.state.fetchStatus?Promise.resolve():e}))).then(i.ZT)}fetchQuery(t){let e=this.defaultQueryOptions(t);void 0===e.retry&&(e.retry=!1);let r=this.#m.build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(i.ZT).catch(i.ZT)}fetchInfiniteQuery(t){return t.behavior=(0,d.Gm)(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(i.ZT).catch(i.ZT)}resumePausedMutations(){return f.N.isOnline()?this.#s.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#m}getMutationCache(){return this.#s}getDefaultOptions(){return this.#h}setDefaultOptions(t){this.#h=t}setQueryDefaults(t,e){this.#b.set((0,i.Ym)(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){let e=[...this.#b.values()],r={};return e.forEach(e=>{(0,i.to)(t,e.queryKey)&&(r={...r,...e.defaultOptions})}),r}setMutationDefaults(t,e){this.#g.set((0,i.Ym)(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){let e=[...this.#g.values()],r={};return e.forEach(e=>{(0,i.to)(t,e.mutationKey)&&(r={...r,...e.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;let e={...this.#h.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=(0,i.Rm)(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.throwOnError&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),!0!==e.enabled&&e.queryFn===i.CN&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#h.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#m.clear(),this.#s.clear()}}},5919:function(t,e,r){r.d(e,{F:function(){return s}});var i=r(3583),s=class{#R;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,i.PN)(this.gcTime)&&(this.#R=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(i.sk?1/0:3e5))}clearGcTimeout(){this.#R&&(clearTimeout(this.#R),this.#R=void 0)}}},4751:function(t,e,r){r.d(e,{DV:function(){return c},Kw:function(){return a},Mz:function(){return l}});var i=r(3452),s=r(335),n=r(3583);function u(t){return Math.min(1e3*2**t,3e4)}function a(t){return(t??"online")!=="online"||s.N.isOnline()}var o=class{constructor(t){this.revert=t?.revert,this.silent=t?.silent}};function c(t){return t instanceof o}function l(t){let e,r,c,l=!1,h=0,f=!1,d=new Promise((t,e)=>{r=t,c=e}),p=()=>i.j.isFocused()&&("always"===t.networkMode||s.N.isOnline())&&t.canRun(),y=()=>a(t.networkMode)&&t.canRun(),m=i=>{f||(f=!0,t.onSuccess?.(i),e?.(),r(i))},b=r=>{f||(f=!0,t.onError?.(r),e?.(),c(r))},g=()=>new Promise(r=>{e=t=>{(f||p())&&r(t)},t.onPause?.()}).then(()=>{e=void 0,f||t.onContinue?.()}),v=()=>{let e;if(f)return;let r=0===h?t.initialPromise:void 0;try{e=r??t.fn()}catch(t){e=Promise.reject(t)}Promise.resolve(e).then(m).catch(e=>{if(f)return;let r=t.retry??(n.sk?0:3),i=t.retryDelay??u,s="function"==typeof i?i(h,e):i,a=!0===r||"number"==typeof r&&h<r||"function"==typeof r&&r(h,e);if(l||!a){b(e);return}h++,t.onFail?.(h,e),(0,n._v)(s).then(()=>p()?void 0:g()).then(()=>{l?b(e):v()})})};return{promise:d,cancel:e=>{f||(b(new o(e)),t.abort?.())},continue:()=>(e?.(),d),cancelRetry:()=>{l=!0},continueRetry:()=>{l=!1},canStart:y,start:()=>(y()?v():g().then(v),d)}}},7307:function(t,e,r){r.d(e,{l:function(){return i}});var i=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}},3583:function(t,e,r){r.d(e,{CN:function(){return R},Ht:function(){return O},Kp:function(){return a},PN:function(){return u},Q$:function(){return d},Rm:function(){return l},SE:function(){return n},VS:function(){return p},VX:function(){return w},X7:function(){return c},Ym:function(){return h},ZT:function(){return s},_v:function(){return g},_x:function(){return o},cG:function(){return C},oE:function(){return v},sk:function(){return i},to:function(){return f}});var i="undefined"==typeof window||"Deno"in globalThis;function s(){}function n(t,e){return"function"==typeof t?t(e):t}function u(t){return"number"==typeof t&&t>=0&&t!==1/0}function a(t,e){return Math.max(t+(e||0)-Date.now(),0)}function o(t,e){let{type:r="all",exact:i,fetchStatus:s,predicate:n,queryKey:u,stale:a}=t;if(u){if(i){if(e.queryHash!==l(u,e.options))return!1}else if(!f(e.queryKey,u))return!1}if("all"!==r){let t=e.isActive();if("active"===r&&!t||"inactive"===r&&t)return!1}return("boolean"!=typeof a||e.isStale()===a)&&(!s||s===e.state.fetchStatus)&&(!n||!!n(e))}function c(t,e){let{exact:r,status:i,predicate:s,mutationKey:n}=t;if(n){if(!e.options.mutationKey)return!1;if(r){if(h(e.options.mutationKey)!==h(n))return!1}else if(!f(e.options.mutationKey,n))return!1}return(!i||e.state.status===i)&&(!s||!!s(e))}function l(t,e){return(e?.queryKeyHashFn||h)(t)}function h(t){return JSON.stringify(t,(t,e)=>m(e)?Object.keys(e).sort().reduce((t,r)=>(t[r]=e[r],t),{}):e)}function f(t,e){return t===e||typeof t==typeof e&&!!t&&!!e&&"object"==typeof t&&"object"==typeof e&&!Object.keys(e).some(r=>!f(t[r],e[r]))}function d(t,e){if(t===e)return t;let r=y(t)&&y(e);if(r||m(t)&&m(e)){let i=r?t:Object.keys(t),s=i.length,n=r?e:Object.keys(e),u=n.length,a=r?[]:{},o=0;for(let s=0;s<u;s++){let u=r?s:n[s];(!r&&i.includes(u)||r)&&void 0===t[u]&&void 0===e[u]?(a[u]=void 0,o++):(a[u]=d(t[u],e[u]),a[u]===t[u]&&void 0!==t[u]&&o++)}return s===u&&o===s?t:a}return e}function p(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(let r in t)if(t[r]!==e[r])return!1;return!0}function y(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function m(t){if(!b(t))return!1;let e=t.constructor;if(void 0===e)return!0;let r=e.prototype;return!!(b(r)&&r.hasOwnProperty("isPrototypeOf"))&&Object.getPrototypeOf(t)===Object.prototype}function b(t){return"[object Object]"===Object.prototype.toString.call(t)}function g(t){return new Promise(e=>{setTimeout(e,t)})}function v(t,e,r){return"function"==typeof r.structuralSharing?r.structuralSharing(t,e):!1!==r.structuralSharing?d(t,e):e}function w(t,e,r=0){let i=[...t,e];return r&&i.length>r?i.slice(1):i}function O(t,e,r=0){let i=[e,...t];return r&&i.length>r?i.slice(0,-1):i}var R=Symbol(),C=(t,e)=>!t.queryFn&&e?.initialPromise?()=>e.initialPromise:t.queryFn&&t.queryFn!==R?t.queryFn:()=>Promise.reject(Error(`Missing queryFn: '${t.queryHash}'`))},6821:function(t,e,r){r.d(e,{NL:function(){return u},aH:function(){return a}});var i=r(7653),s=r(7573),n=i.createContext(void 0),u=t=>{let e=i.useContext(n);if(t)return t;if(!e)throw Error("No QueryClient set, use QueryClientProvider to set one");return e},a=t=>{let{client:e,children:r}=t;return i.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,s.jsx)(n.Provider,{value:e,children:r})}},194:function(t,e,r){function i(t){let e={subscribe(e){let r=null,i=!1,s=!1,n=!1;function u(){if(null===r){n=!0;return}!s&&(s=!0,"function"==typeof r?r():r&&r.unsubscribe())}return r=t({next(t){i||e.next?.(t)},error(t){i||(i=!0,e.error?.(t),u())},complete(){i||(i=!0,e.complete?.(),u())}}),n&&u(),{unsubscribe:u}},pipe:(...t)=>t.reduce(s,e)};return e}function s(t,e){return e(t)}r.d(e,{NT:function(){return o},Bm:function(){return f},fE:function(){return c},ny:function(){return d},N8:function(){return C}});class n extends Error{constructor(t){super(t),this.name="ObservableAbortError",Object.setPrototypeOf(this,n.prototype)}}var u=r(1714);class a extends Error{static from(t,e={}){return t instanceof a||t instanceof Error&&"TRPCClientError"===t.name?(e.meta&&(t.meta={...t.meta,...e.meta}),t):(0,u.Kn)(t)&&(0,u.Kn)(t.error)&&"number"==typeof t.error.code&&"string"==typeof t.error.message?new a(t.error.message,{...e,result:t}):t instanceof Error?new a(t.message,{...e,cause:(0,u.sZ)(t)}):new a("Unknown error",{...e,cause:t})}constructor(t,e){let r=e?.cause;super(t,{cause:r}),this.meta=e?.meta,this.cause=r,this.shape=e?.result?.error,this.data=e?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,a.prototype)}}class o{$request({type:t,input:e,path:r,context:s={}}){var n;return(n={links:this.links,op:{id:++this.requestId,type:t,path:r,input:e,context:s}},i(t=>(function t(e=0,r=n.op){let i=n.links[e];if(!i)throw Error("No more links to execute - did you forget to add an ending link?");return i({op:r,next:r=>t(e+1,r)})})().subscribe(t))).pipe(t=>{let e=0,r=null,s=[];return i(i=>(e++,s.push(i),r||(r=t.subscribe({next(t){for(let e of s)e.next?.(t)},error(t){for(let e of s)e.error?.(t)},complete(){for(let t of s)t.complete?.()}})),{unsubscribe(){e--,function(){if(0===e&&r){let t=r;r=null,t.unsubscribe()}}();let t=s.findIndex(t=>t===i);t>-1&&s.splice(t,1)}}))})}requestAsPromise(t){var e;let r;let{promise:i,abort:s}=(e=this.$request(t),{promise:new Promise((t,i)=>{let s=!1;function u(){s||(s=!0,i(new n("This operation was aborted.")),a.unsubscribe())}let a=e.subscribe({next(e){s=!0,t(e),u()},error(t){s=!0,i(t),u()},complete(){s=!0,u()}});r=u}),abort:r});return new Promise((e,r)=>{t.signal?.addEventListener("abort",s),i.then(t=>{e(t.result.data)}).catch(t=>{r(a.from(t))})})}query(t,e,r){return this.requestAsPromise({type:"query",path:t,input:e,context:r?.context,signal:r?.signal})}mutation(t,e,r){return this.requestAsPromise({type:"mutation",path:t,input:e,context:r?.context,signal:r?.signal})}subscription(t,e,r){return this.$request({type:"subscription",path:t,input:e,context:r?.context}).subscribe({next(t){"started"===t.result.type?r.onStarted?.():"stopped"===t.result.type?r.onStopped?.():r.onData?.(t.result.data)},error(t){r.onError?.(t)},complete(){r.onComplete?.()}})}constructor(t){this.requestId=0,this.runtime={},this.links=t.links.map(t=>t(this.runtime))}}function c(t){return new o(t)}let l={query:"query",mutate:"mutation",subscribe:"subscription"},h=t=>l[t];function f(t){return(0,u.yh)(e=>t.hasOwnProperty(e)?t[e]:"__untypedClient"===e?t:(0,u.IX)(({path:r,args:i})=>{let s=[e,...r],n=h(s.pop()),u=s.join(".");return t[n](u,...i)}))}function d(t){return t.__untypedClient}let p=()=>{throw Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function y(t){let e=null,r=null,i=()=>{clearTimeout(r),r=null,e=null};function s(){let r=function(e){let r=[[]],i=0;for(;;){let s=e[i];if(!s)break;let n=r[r.length-1];if(s.aborted){s.reject?.(Error("Aborted")),i++;continue}if(t.validate(n.concat(s).map(t=>t.key))){n.push(s),i++;continue}if(0===n.length){s.reject?.(Error("Input is too big for a single dispatch")),i++;continue}r.push([])}return r}(e);for(let e of(i(),r)){if(!e.length)continue;let r={items:e,cancel:p};for(let t of e)t.batch=r;let{promise:i,cancel:s}=t.fetch(r.items.map(t=>t.key));r.cancel=s,i.then(async t=>{for(let e of(await Promise.all(t.map(async(t,e)=>{let i=r.items[e];try{let e=await Promise.resolve(t);i.resolve?.(e)}catch(t){i.reject?.(t)}i.batch=null,i.reject=null,i.resolve=null})),r.items))e.reject?.(Error("Missing result")),e.batch=null}).catch(t=>{for(let e of r.items)e.reject?.(t),e.batch=null})}}return{load:function(t){let i={aborted:!1,key:t,batch:null,resolve:p,reject:p},n=new Promise((t,r)=>{i.reject=r,i.resolve=t,e||(e=[]),e.push(i)});return r||(r=setTimeout(s)),{promise:n,cancel:()=>{i.aborted=!0,i.batch?.items.every(t=>t.aborted)&&(i.batch.cancel(),i.batch=null)}}}}}let m=t=>"function"==typeof t,b={query:"GET",mutation:"POST"};function g(t){return"input"in t?t.transformer.input.serialize(t.input):function(t){let e={};for(let r=0;r<t.length;r++){let i=t[r];e[r]=i}return e}(t.inputs.map(e=>t.transformer.input.serialize(e)))}let v=t=>{let e=t.url+"/"+t.path,r=[];if("inputs"in t&&r.push("batch=1"),"query"===t.type){let e=g(t);void 0!==e&&"POST"!==t.methodOverride&&r.push(`input=${encodeURIComponent(JSON.stringify(e))}`)}return r.length&&(e+="?"+r.join("&")),e},w=t=>{if("query"===t.type&&"POST"!==t.methodOverride)return;let e=g(t);return void 0!==e?JSON.stringify(e):void 0},O=t=>(function(t){let e=t.AbortController?new t.AbortController:null,r={},i=!1;return{promise:new Promise((s,n)=>{R(t,e).then(t=>(r.response=t,i=!0,t.json())).then(t=>{r.responseJSON=t,s({json:t,meta:r})}).catch(t=>{i=!0,n(a.from(t,{meta:r}))})}),cancel:()=>{i||e?.abort()}}})({...t,contentTypeHeader:"application/json",getUrl:v,getBody:w});async function R(t,e){let r=t.getUrl(t),i=t.getBody(t),{type:s}=t,n=await (async()=>{let e=await t.headers();return Symbol.iterator in e?Object.fromEntries(e):e})();/* istanbul ignore if -- @preserve */if("subscription"===s)throw Error("Subscriptions should use wsLink");let u={...t.contentTypeHeader?{"content-type":t.contentTypeHeader}:{},...t.trpcAcceptHeader?{"trpc-accept":t.trpcAcceptHeader}:void 0,...n};return(function(t){if(t)return t;if("undefined"!=typeof window&&m(window.fetch))return window.fetch;if("undefined"!=typeof globalThis&&m(globalThis.fetch))return globalThis.fetch;throw Error("No fetch implementation found")})(t.fetch)(r,{method:t.methodOverride??b[s],signal:e?.signal,body:i,headers:u})}function C(t){var e,r;let s={url:t.url.toString().replace(/\/$/,""),fetch:t.fetch,AbortController:(e=t.AbortController)?e:"undefined"!=typeof window&&window.AbortController?window.AbortController:"undefined"!=typeof globalThis&&globalThis.AbortController?globalThis.AbortController:null,transformer:(r=t.transformer)?"input"in r?r:{input:r,output:r}:{input:{serialize:t=>t,deserialize:t=>t},output:{serialize:t=>t,deserialize:t=>t}},methodOverride:t.methodOverride},n=t.maxURLLength??1/0;return()=>{let e=e=>({validate(t){if(n===1/0)return!0;let r=t.map(t=>t.path).join(","),i=t.map(t=>t.input);return v({...s,type:e,path:r,inputs:i}).length<=n},fetch(r){let i=r.map(t=>t.path).join(","),n=r.map(t=>t.input),u=O({...s,path:i,inputs:n,type:e,headers:()=>t.headers?"function"==typeof t.headers?t.headers({opList:r}):t.headers:{}});return{cancel:u.cancel,promise:u.promise.then(t=>(Array.isArray(t.json)?t.json:r.map(()=>t.json)).map(e=>({meta:t.meta,json:e})))}}}),r=y(e("query")),o=y(e("mutation")),c={query:r,subscription:y(e("subscription")),mutation:o};return({op:t})=>i(e=>{let r;let{promise:i,cancel:n}=c[t.type].load(t);return i.then(t=>{r=t;let i=(0,u.F7)(t.json,s.transformer.output);if(!i.ok){e.error(a.from(i.error,{meta:t.meta}));return}e.next({context:t.meta,result:i.result}),e.complete()}).catch(t=>{e.error(a.from(t,{meta:r?.meta}))}),()=>{n()}})}}},7641:function(t,e,r){let i;r.d(e,{ec:function(){return Z}});var s=r(194),n=r(3583),u=r(1714);function a(t,e,r){let i=t.flatMap(t=>t.split("."));if(!e&&(!r||"any"===r))return i.length?[i]:[];if("infinite"===r&&(0,u.Kn)(e)&&("direction"in e||"cursor"in e)){let{cursor:t,direction:r,...s}=e;return[i,{input:s,type:"infinite"}]}return[i,{...void 0!==e&&e!==n.CN&&{input:e},...r&&"any"!==r&&{type:r}}]}var o=r(7653);let c=["client","ssrContext","ssrState","abortOnUnmount"],l=o.createContext?.(null),h=t=>{switch(t){case"fetch":case"ensureData":case"prefetch":case"getData":case"setData":case"setQueriesData":return"query";case"fetchInfinite":case"prefetchInfinite":case"getInfiniteData":case"setInfiniteData":return"infinite";case"cancel":case"invalidate":case"refetch":case"reset":return"any"}};var f=r(4392),d=r(3452),p=r(7307),y=r(9319),m=class extends p.l{constructor(t,e){super(),this.options=e,this.#C=t,this.#S=null,this.bindMethods(),this.setOptions(e)}#C;#E=void 0;#Q=void 0;#q=void 0;#P;#D;#S;#x;#F;#T;#I;#_;#M;#k=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#E.addObserver(this),b(this.#E,this.options)?this.#A():this.updateResult(),this.#j())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return g(this.#E,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return g(this.#E,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#U(),this.#N(),this.#E.removeObserver(this)}setOptions(t,e){let r=this.options,i=this.#E;if(this.options=this.#C.defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.#K(),this.#E.setOptions(this.options),r._defaulted&&!(0,n.VS)(this.options,r)&&this.#C.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#E,observer:this});let s=this.hasListeners();s&&v(this.#E,i,this.options,r)&&this.#A(),this.updateResult(e),s&&(this.#E!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.#L();let u=this.#V();s&&(this.#E!==i||this.options.enabled!==r.enabled||u!==this.#M)&&this.#H(u)}getOptimisticResult(t){let e=this.#C.getQueryCache().build(this.#C,t),r=this.createResult(e,t);return(0,n.VS)(this.getCurrentResult(),r)||(this.#q=r,this.#D=this.options,this.#P=this.#E.state),r}getCurrentResult(){return this.#q}trackResult(t,e){let r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),e?.(i),t[i])})}),r}trackProp(t){this.#k.add(t)}getCurrentQuery(){return this.#E}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){let e=this.#C.defaultQueryOptions(t),r=this.#C.getQueryCache().build(this.#C,e);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#A({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#q))}#A(t){this.#K();let e=this.#E.fetch(this.options,t);return t?.throwOnError||(e=e.catch(n.ZT)),e}#L(){if(this.#U(),n.sk||this.#q.isStale||!(0,n.PN)(this.options.staleTime))return;let t=(0,n.Kp)(this.#q.dataUpdatedAt,this.options.staleTime);this.#I=setTimeout(()=>{this.#q.isStale||this.updateResult()},t+1)}#V(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#E):this.options.refetchInterval)??!1}#H(t){this.#N(),this.#M=t,!n.sk&&!1!==this.options.enabled&&(0,n.PN)(this.#M)&&0!==this.#M&&(this.#_=setInterval(()=>{(this.options.refetchIntervalInBackground||d.j.isFocused())&&this.#A()},this.#M))}#j(){this.#L(),this.#H(this.#V())}#U(){this.#I&&(clearTimeout(this.#I),this.#I=void 0)}#N(){this.#_&&(clearInterval(this.#_),this.#_=void 0)}createResult(t,e){let r;let i=this.#E,s=this.options,u=this.#q,a=this.#P,o=this.#D,c=t!==i?t.state:this.#Q,{state:l}=t,h={...l},f=!1;if(e._optimisticResults){let r=this.hasListeners(),n=!r&&b(t,e),u=r&&v(t,i,e,s);(n||u)&&(h={...h,...(0,y.z)(l.data,t.options)}),"isRestoring"===e._optimisticResults&&(h.fetchStatus="idle")}let{error:d,errorUpdatedAt:p,status:m}=h;if(e.select&&void 0!==h.data){if(u&&h.data===a?.data&&e.select===this.#x)r=this.#F;else try{this.#x=e.select,r=e.select(h.data),r=(0,n.oE)(u?.data,r,e),this.#F=r,this.#S=null}catch(t){this.#S=t}}else r=h.data;if(void 0!==e.placeholderData&&void 0===r&&"pending"===m){let t;if(u?.isPlaceholderData&&e.placeholderData===o?.placeholderData)t=u.data;else if(t="function"==typeof e.placeholderData?e.placeholderData(this.#T?.state.data,this.#T):e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),this.#S=null}catch(t){this.#S=t}void 0!==t&&(m="success",r=(0,n.oE)(u?.data,t,e),f=!0)}this.#S&&(d=this.#S,r=this.#F,p=Date.now(),m="error");let g="fetching"===h.fetchStatus,O="pending"===m,R="error"===m,C=O&&g,S=void 0!==r;return{status:m,fetchStatus:h.fetchStatus,isPending:O,isSuccess:"success"===m,isError:R,isInitialLoading:C,isLoading:C,data:r,dataUpdatedAt:h.dataUpdatedAt,error:d,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:g,isRefetching:g&&!O,isLoadingError:R&&!S,isPaused:"paused"===h.fetchStatus,isPlaceholderData:f,isRefetchError:R&&S,isStale:w(t,e),refetch:this.refetch}}updateResult(t){let e=this.#q,r=this.createResult(this.#E,this.options);if(this.#P=this.#E.state,this.#D=this.options,void 0!==this.#P.data&&(this.#T=this.#E),(0,n.VS)(r,e))return;this.#q=r;let i={};t?.listeners!==!1&&(()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#k.size)return!0;let i=new Set(r??this.#k);return this.options.throwOnError&&i.add("error"),Object.keys(this.#q).some(t=>this.#q[t]!==e[t]&&i.has(t))})()&&(i.listeners=!0),this.#G({...i,...t})}#K(){let t=this.#C.getQueryCache().build(this.#C,this.options);if(t===this.#E)return;let e=this.#E;this.#E=t,this.#Q=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#j()}#G(t){f.V.batch(()=>{t.listeners&&this.listeners.forEach(t=>{t(this.#q)}),this.#C.getQueryCache().notify({query:this.#E,type:"observerResultsUpdated"})})}};function b(t,e){return!1!==e.enabled&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)||void 0!==t.state.data&&g(t,e,e.refetchOnMount)}function g(t,e,r){if(!1!==e.enabled){let i="function"==typeof r?r(t):r;return"always"===i||!1!==i&&w(t,e)}return!1}function v(t,e,r,i){return(t!==e||!1===i.enabled)&&(!r.suspense||"error"!==t.state.status)&&w(t,r)}function w(t,e){return!1!==e.enabled&&t.isStaleByTime(e.staleTime)}r(7573);var O=o.createContext((i=!1,{clearReset:()=>{i=!1},reset:()=>{i=!0},isReset:()=>i})),R=()=>o.useContext(O),C=r(6821),S=o.createContext(!1),E=()=>o.useContext(S);function Q(t,e){return"function"==typeof t?t(...e):!!t}function q(){}S.Provider;var P=(t,e)=>{(t.suspense||t.throwOnError)&&!e.isReset()&&(t.retryOnMount=!1)},D=t=>{o.useEffect(()=>{t.clearReset()},[t])},x=t=>{let{result:e,errorResetBoundary:r,throwOnError:i,query:s}=t;return e.isError&&!r.isReset()&&!e.isFetching&&s&&Q(i,[e.error,s])},F=(t,e)=>void 0===e.state.data,T=t=>{t.suspense&&"number"!=typeof t.staleTime&&(t.staleTime=1e3)},I=(t,e)=>t.isLoading&&t.isFetching&&!e,_=(t,e)=>t?.suspense&&e.isPending,M=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function k(t,e,r){let i=(0,C.NL)(r),s=E(),n=R(),u=i.defaultQueryOptions(t);u._optimisticResults=s?"isRestoring":"optimistic",T(u),P(u,n),D(n);let[a]=o.useState(()=>new e(i,u)),c=a.getOptimisticResult(u);if(o.useSyncExternalStore(o.useCallback(t=>{let e=s?()=>void 0:a.subscribe(f.V.batchCalls(t));return a.updateResult(),e},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),o.useEffect(()=>{a.setOptions(u,{listeners:!1})},[u,a]),_(u,c))throw M(u,a,n);if(x({result:c,errorResetBoundary:n,throwOnError:u.throwOnError,query:i.getQueryCache().get(u.queryHash)}))throw c.error;return u.notifyOnChangeProps?c:a.trackResult(c)}var A=r(7927),j=class extends p.l{#C;#q=void 0;#z;#Z;constructor(t,e){super(),this.#C=t,this.setOptions(e),this.bindMethods(),this.#$()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#C.defaultMutationOptions(t),(0,n.VS)(this.options,e)||this.#C.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#z,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,n.Ym)(e.mutationKey)!==(0,n.Ym)(this.options.mutationKey)?this.reset():this.#z?.state.status==="pending"&&this.#z.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#z?.removeObserver(this)}onMutationUpdate(t){this.#$(),this.#G(t)}getCurrentResult(){return this.#q}reset(){this.#z?.removeObserver(this),this.#z=void 0,this.#$(),this.#G()}mutate(t,e){return this.#Z=e,this.#z?.removeObserver(this),this.#z=this.#C.getMutationCache().build(this.#C,this.options),this.#z.addObserver(this),this.#z.execute(t)}#$(){let t=this.#z?.state??(0,A.R)();this.#q={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#G(t){f.V.batch(()=>{if(this.#Z&&this.hasListeners()){let e=this.#q.variables,r=this.#q.context;t?.type==="success"?(this.#Z.onSuccess?.(t.data,e,r),this.#Z.onSettled?.(t.data,null,e,r)):t?.type==="error"&&(this.#Z.onError?.(t.error,e,r),this.#Z.onSettled?.(void 0,t.error,e,r))}this.listeners.forEach(t=>{t(this.#q)})})}},U=r(2051),N=class extends m{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,e){super.setOptions({...t,behavior:(0,U.Gm)()},e)}getOptimisticResult(t){return t.behavior=(0,U.Gm)(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){let{state:r}=t,i=super.createResult(t,e),{isFetching:s,isRefetching:n,isError:u,isRefetchError:a}=i,o=r.fetchMeta?.fetchMore?.direction,c=u&&"forward"===o,l=s&&"forward"===o,h=u&&"backward"===o,f=s&&"backward"===o;return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,U.Qy)(e,r.data),hasPreviousPage:(0,U.ZF)(e,r.data),isFetchNextPageError:c,isFetchingNextPage:l,isFetchPreviousPageError:h,isFetchingPreviousPage:f,isRefetchError:a&&!c&&!h,isRefetching:n&&!l&&!f}}};function K(t,e){return t.filter(t=>!e.includes(t))}var L=class extends p.l{#C;#B;#d;#i;#X;#Y;#W;constructor(t,e,r){super(),this.#C=t,this.#d=[],this.#i=[],this.#B=[],this.setQueries(e)}onSubscribe(){1===this.listeners.size&&this.#i.forEach(t=>{t.subscribe(e=>{this.#J(t,e)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#i.forEach(t=>{t.destroy()})}setQueries(t,e,r){this.#d=t,f.V.batch(()=>{let t=this.#i,e=this.#tt(this.#d);e.forEach(t=>t.observer.setOptions(t.defaultedQueryOptions,r));let i=e.map(t=>t.observer),s=i.map(t=>t.getCurrentResult()),n=i.some((e,r)=>e!==t[r]);(t.length!==i.length||n)&&(this.#i=i,this.#B=s,this.hasListeners()&&(K(t,i).forEach(t=>{t.destroy()}),K(i,t).forEach(t=>{t.subscribe(e=>{this.#J(t,e)})}),this.#G()))})}getCurrentResult(){return this.#B}getQueries(){return this.#i.map(t=>t.getCurrentQuery())}getObservers(){return this.#i}getOptimisticResult(t,e){let r=this.#tt(t),i=r.map(t=>t.observer.getOptimisticResult(t.defaultedQueryOptions));return[i,t=>this.#te(t??i,e),()=>r.map((t,e)=>{let s=i[e];return t.defaultedQueryOptions.notifyOnChangeProps?s:t.observer.trackResult(s,t=>{r.forEach(e=>{e.observer.trackProp(t)})})})]}#te(t,e){return e?(this.#X&&this.#B===this.#W&&e===this.#Y||(this.#Y=e,this.#W=this.#B,this.#X=(0,n.Q$)(this.#X,e(t))),this.#X):t}#tt(t){let e=new Map(this.#i.map(t=>[t.options.queryHash,t])),r=t.map(t=>this.#C.defaultQueryOptions(t)),i=r.flatMap(t=>{let r=e.get(t.queryHash);return null!=r?[{defaultedQueryOptions:t,observer:r}]:[]}),s=new Set(i.map(t=>t.defaultedQueryOptions.queryHash)),n=r.filter(t=>!s.has(t.queryHash)),u=t=>{let e=this.#C.defaultQueryOptions(t);return this.#i.find(t=>t.options.queryHash===e.queryHash)??new m(this.#C,e)},a=n.map(t=>({defaultedQueryOptions:t,observer:u(t)}));return i.concat(a).sort((t,e)=>r.indexOf(t.defaultedQueryOptions)-r.indexOf(e.defaultedQueryOptions))}#J(t,e){let r=this.#i.indexOf(t);-1!==r&&(this.#B=function(t,e,r){let i=t.slice(0);return i[e]=r,i}(this.#B,r,e),this.#G())}#G(){f.V.batch(()=>{this.listeners.forEach(t=>{t(this.#B)})})}};function V(t,e){let{queries:r,...i}=t,s=(0,C.NL)(e),n=E(),u=R(),a=o.useMemo(()=>r.map(t=>{let e=s.defaultQueryOptions(t);return e._optimisticResults=n?"isRestoring":"optimistic",e}),[r,s,n]);a.forEach(t=>{T(t),P(t,u)}),D(u);let[c]=o.useState(()=>new L(s,a,i)),[l,h,d]=c.getOptimisticResult(a,i.combine);o.useSyncExternalStore(o.useCallback(t=>n?()=>void 0:c.subscribe(f.V.batchCalls(t)),[c,n]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),o.useEffect(()=>{c.setQueries(a,i,{listeners:!1})},[a,i,c]);let p=l.some((t,e)=>_(a[e],t))?l.flatMap((t,e)=>{let r=a[e];if(r){let e=new m(s,r);if(_(r,t))return M(r,e,u);I(t,n)&&M(r,e,u)}return[]}):[];if(p.length>0)throw Promise.all(p);let y=l.find((t,e)=>{let r=a[e];return r&&x({result:t,errorResetBoundary:u,throwOnError:r.throwOnError,query:s.getQueryCache().get(r.queryHash)})});if(null==y?void 0:y.error)throw y.error;return h(d())}function H(t,e,r){let i=t[0],s=t[1]?.input;return r&&(s={...s??{},...r.pageParam?{cursor:r.pageParam}:{},direction:r.direction}),[i.join("."),s,e?.trpc]}function G(t){let e=t.path.join(".");return o.useMemo(()=>({path:e}),[e])}function z(t){return(0,u.IX)(e=>{let r=e.path,i=r.join("."),[s,n]=e.args;return{queryKey:a(r,s,"query"),queryFn:()=>t.query(i,s,n?.trpc),...n}})}function Z(t){var e;return e=function(t){let e=t?.overrides?.useMutation?.onSuccess??(t=>t.originalFn()),r=t?.context??l;function i(){let t=o.useContext(r);if(!t)throw Error("Unable to find tRPC Context. Did you forget to wrap your App inside `withTRPC` HoC?");return t}function c(t,e){let{queryClient:r,ssrState:s}=i();return s&&"mounted"!==s&&r.getQueryCache().find({queryKey:t})?.state.status==="error"?{retryOnMount:!1,...e}:e}return{Provider:t=>{let{abortOnUnmount:e=!1,client:i,queryClient:n,ssrContext:u}=t,[a,c]=o.useState(t.ssrState??!1),l=o.useMemo(()=>(function(t){let{client:e,queryClient:r}=t,i=e instanceof s.NT?e:(0,s.ny)(e);return{fetchQuery:(t,e)=>r.fetchQuery({...e,queryKey:t,queryFn:()=>i.query(...H(t,e))}),fetchInfiniteQuery:(t,e)=>r.fetchInfiniteQuery({...e,queryKey:t,queryFn:({pageParam:r,direction:s})=>i.query(...H(t,e,{pageParam:r,direction:s})),initialPageParam:e?.initialCursor??null}),prefetchQuery:(t,e)=>r.prefetchQuery({...e,queryKey:t,queryFn:()=>i.query(...H(t,e))}),prefetchInfiniteQuery:(t,e)=>r.prefetchInfiniteQuery({...e,queryKey:t,queryFn:({pageParam:r,direction:s})=>i.query(...H(t,e,{pageParam:r,direction:s})),initialPageParam:e?.initialCursor??null}),ensureQueryData:(t,e)=>r.ensureQueryData({...e,queryKey:t,queryFn:()=>i.query(...H(t,e))}),invalidateQueries:(t,e,i)=>r.invalidateQueries({...e,queryKey:t},i),resetQueries:(t,e,i)=>r.resetQueries({...e,queryKey:t},i),refetchQueries:(t,e,i)=>r.refetchQueries({...e,queryKey:t},i),cancelQuery:(t,e)=>r.cancelQueries({queryKey:t},e),setQueryData:(t,e,i)=>r.setQueryData(t,e,i),setQueriesData:(t,e,i,s)=>r.setQueriesData({...e,queryKey:t},i,s),getQueryData:t=>r.getQueryData(t),setInfiniteQueryData:(t,e,i)=>r.setQueryData(t,e,i),getInfiniteQueryData:t=>r.getQueryData(t)}})({client:i,queryClient:n}),[i,n]),h=o.useMemo(()=>({abortOnUnmount:e,queryClient:n,client:i,ssrContext:u??null,ssrState:a,...l}),[e,i,l,n,u,a]);return o.useEffect(()=>{c(t=>!!t&&"mounted")},[]),o.createElement(r.Provider,{value:h},t.children)},createClient:t=>(0,s.fE)(t),useContext:i,useUtils:i,useQuery:function(e,r,s){let{abortOnUnmount:o,client:l,ssrState:h,queryClient:f,prefetchQuery:d}=i(),p=a(e,r,"query"),y=f.getQueryDefaults(p),b=r===n.CN;"undefined"!=typeof window||"prepass"!==h||s?.trpc?.ssr===!1||(s?.enabled??y?.enabled)===!1||b||f.getQueryCache().find({queryKey:p})||d(p,s);let g=c(p,{...y,...s}),v=s?.trpc?.abortOnUnmount??t?.abortOnUnmount??o,w=k({...g,queryKey:p,queryFn:b?r:async t=>{let e={...g,trpc:{...g?.trpc,...v?{signal:t.signal}:{}}},r=await l.query(...H(p,e));if((0,u.D0)(r)){let e=f.getQueryCache().build(t.queryKey,{queryKey:p});e.setState({data:[],status:"success"});let i=[];for await(let t of r)i.push(t),e.setState({data:[...i]});return i}return r}},m,f);return w.trpc=G({path:e}),w},useSuspenseQuery:function(e,r,s){var n,u;let o=i(),c=a(e,r,"query"),l=s?.trpc?.abortOnUnmount??t?.abortOnUnmount??o.abortOnUnmount,h=(n={...s,queryKey:c,queryFn:t=>{let e={trpc:{...l?{signal:t.signal}:{}}};return o.client.query(...H(c,e))}},u=o.queryClient,k({...n,enabled:!0,suspense:!0,throwOnError:F,placeholderData:void 0},m,u));return h.trpc=G({path:e}),[h.data,h]},useQueries:t=>{let{ssrState:e,queryClient:r,prefetchQuery:s,client:n}=i(),u=t(z(n));if("undefined"==typeof window&&"prepass"===e)for(let t of u)t.trpc?.ssr===!1||r.getQueryCache().find({queryKey:t.queryKey})||s(t.queryKey,t);return V({queries:u.map(t=>({...t,queryKey:t.queryKey}))},r)},useSuspenseQueries:t=>{var e;let{queryClient:r,client:s}=i(),n=V({...e={queries:t(z(s)).map(t=>({...t,queryKey:t.queryKey}))},queries:e.queries.map(t=>({...t,suspense:!0,throwOnError:F,enabled:!0,placeholderData:void 0}))},r);return[n.map(t=>t.data),n]},useMutation:function(t,r){let{client:s}=i(),n=(0,C.NL)(),u=[t],a=n.defaultMutationOptions(n.getMutationDefaults(u)),c=function(t,e){let r=(0,C.NL)(e),[i]=o.useState(()=>new j(r,t));o.useEffect(()=>{i.setOptions(t)},[i,t]);let s=o.useSyncExternalStore(o.useCallback(t=>i.subscribe(f.V.batchCalls(t)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),n=o.useCallback((t,e)=>{i.mutate(t,e).catch(q)},[i]);if(s.error&&Q(i.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:n,mutateAsync:s.mutate}}({...r,mutationKey:u,mutationFn:e=>s.mutation(...H([t,{input:e}],r)),onSuccess:(...t)=>e({originalFn:()=>r?.onSuccess?.(...t)??a?.onSuccess?.(...t),queryClient:n,meta:r?.meta??a?.meta??{}})},n);return c.trpc=G({path:t}),c},useSubscription:/* istanbul ignore next -- @preserve */function(t,e,r){let s=r?.enabled??!0,u=(0,n.Ym)(a(t,e,"any")),{client:c}=i(),l=o.useRef(r);l.current=r,o.useEffect(()=>{if(!s)return;let r=!1,i=c.subscription(t.join("."),e??void 0,{onStarted:()=>{r||l.current.onStarted?.()},onData:t=>{r||l.current.onData(t)},onError:t=>{r||l.current.onError?.(t)}});return()=>{r=!0,i.unsubscribe()}},[u,s])},useInfiniteQuery:function(t,e,r){let{client:s,ssrState:u,prefetchInfiniteQuery:o,queryClient:l,abortOnUnmount:h}=i(),f=a(t,e,"infinite"),d=l.getQueryDefaults(f),p=e===n.CN;"undefined"!=typeof window||"prepass"!==u||r?.trpc?.ssr===!1||(r?.enabled??d?.enabled)===!1||p||l.getQueryCache().find({queryKey:f})||o(f,{...d,...r});let y=c(f,{...d,...r}),m=r?.trpc?.abortOnUnmount??h,b=k({...y,initialPageParam:r.initialCursor??null,persister:r.persister,queryKey:f,queryFn:p?e:t=>{let e={...y,trpc:{...y?.trpc,...m?{signal:t.signal}:{}}};return s.query(...H(f,e,{pageParam:t.pageParam??r.initialCursor,direction:t.direction}))}},N,l);return b.trpc=G({path:t}),b},useSuspenseInfiniteQuery:function(t,e,r){var s,n;let u=i(),o=a(t,e,"infinite"),l=u.queryClient.getQueryDefaults(o),h=c(o,{...l,...r}),f=r?.trpc?.abortOnUnmount??u.abortOnUnmount,d=(s={...r,initialPageParam:r.initialCursor??null,queryKey:o,queryFn:t=>{let e={...h,trpc:{...h?.trpc,...f?{signal:t.signal}:{}}};return u.client.query(...H(o,e,{pageParam:t.pageParam??r.initialCursor,direction:t.direction}))}},n=u.queryClient,k({...s,enabled:!0,suspense:!0,throwOnError:F},N,n));return d.trpc=G({path:t}),[d.data,d]}}}(t),(0,u.yh)(t=>"useContext"===t||"useUtils"===t?()=>{let t=e.useUtils();return o.useMemo(()=>(0,u.yh)(e=>"client"===e?(0,s.Bm)(t.client):c.includes(e)?t[e]:(0,u.IX)(r=>{let i=[e,...r.path],s=i.pop(),n=[...r.args],u=a(i,n.shift(),h(s));return({fetch:()=>t.fetchQuery(u,...n),fetchInfinite:()=>t.fetchInfiniteQuery(u,n[0]),prefetch:()=>t.prefetchQuery(u,...n),prefetchInfinite:()=>t.prefetchInfiniteQuery(u,n[0]),ensureData:()=>t.ensureQueryData(u,...n),invalidate:()=>t.invalidateQueries(u,...n),reset:()=>t.resetQueries(u,...n),refetch:()=>t.refetchQueries(u,...n),cancel:()=>t.cancelQuery(u,...n),setData:()=>{t.setQueryData(u,n[0],n[1])},setQueriesData:()=>t.setQueriesData(u,n[0],n[1],n[2]),setInfiniteData:()=>{t.setInfiniteQueryData(u,n[0],n[1])},getData:()=>t.getQueryData(u),getInfiniteData:()=>t.getInfiniteQueryData(u)})[s]()})),[t])}:e.hasOwnProperty(t)?e[t]:(0,u.IX)(({path:r,args:i})=>{let s=[t,...r],n=s.pop();if("useMutation"===n)return e[n](s,...i);if("_def"===n)return{path:s};let[u,...a]=i,o=a[0]||{};return e[n](s,u,o)}))}},1714:function(t,e,r){r.d(e,{yh:function(){return n},IX:function(){return s},sZ:function(){return f},D0:function(){return l},Kn:function(){return a},F7:function(){return g}});let i=()=>{},s=t=>(function t(e,r){return new Proxy(i,{get(i,s){if("string"==typeof s&&"then"!==s)return t(e,[...r,s])},apply(t,i,s){let n=r[r.length-1],u={args:s,path:r};return"call"===n?u={args:s.length>=2?[s[1]]:[],path:r.slice(0,-1)}:"apply"===n&&(u={args:s.length>=2?s[1]:[],path:r.slice(0,-1)}),e(u)}})})(t,[]),n=t=>new Proxy(i,{get(e,r){if("string"==typeof r&&"then"!==r)return t(r)}});function u(t,...e){let r=Object.assign(Object.create(null),t);for(let t of e)for(let e in t){if(e in r&&r[e]!==t[e])throw Error(`Duplicate key ${e}`);r[e]=t[e]}return r}function a(t){return!!t&&!Array.isArray(t)&&"object"==typeof t}function o(t){return Object.assign(Object.create(null),t)}Symbol("unsetMarker");let c="function"==typeof Symbol&&!!Symbol.asyncIterator;function l(t){return c&&a(t)&&Symbol.asyncIterator in t}class h extends Error{}function f(t){if(t instanceof Error)return t;let e=typeof t;if("undefined"!==e&&"function"!==e&&null!==t){if("object"!==e)return Error(String(t));if(a(t)){let e=new h;for(let r in t)e[r]=t[r];return e}}}function d(t){if(t instanceof p||t instanceof Error&&"TRPCError"===t.name)return t;let e=new p({code:"INTERNAL_SERVER_ERROR",cause:t});return t instanceof Error&&t.stack&&(e.stack=t.stack),e}class p extends Error{constructor(t){let e=f(t.cause);super(t.message??e?.message??t.code,{cause:e}),this.code=t.code,this.name="TRPCError",this.cause||(this.cause=e)}}let y=({shape:t})=>t,m={input:{serialize:t=>t,deserialize:t=>t},output:{serialize:t=>t,deserialize:t=>t}};class b extends Error{constructor(){super("Unable to transform response from server")}}function g(t,e){let r;try{r=function(t,e){if("error"in t){let r=e.deserialize(t.error);return{ok:!1,error:{...t,error:r}}}return{ok:!0,result:{...t.result,...(!t.result.type||"data"===t.result.type)&&{type:"data",data:e.deserialize(t.result.data)}}}}(t,e)}catch(t){throw new b}if(!r.ok&&(!a(r.error.error)||"number"!=typeof r.error.error.code)||r.ok&&!a(r.result))throw new b;return r}let v={_ctx:null,_errorShape:null,_meta:null,queries:{},mutations:{},subscriptions:{},errorFormatter:y,transformer:m},w=["then","call","apply"];function O(t){return function(e){let r=new Set(Object.keys(e).filter(t=>w.includes(t)));if(r.size>0)throw Error("Reserved words used in `router({})` call: "+Array.from(r).join(", "));let i=o({}),s=function t(e,r=[]){let s=o({});for(let[n,u]of Object.entries(e??{})){if(u._def&&"router"in u._def){s[n]=t(u._def.record,[...r,n]);continue}if("function"!=typeof u){s[n]=t(u,[...r,n]);continue}let e=[...r,n].join(".");if(i[e])throw Error(`Duplicate key: ${e}`);i[e]=u,s[n]=u}return s}(e),n={_config:t,router:!0,procedures:i,...v,record:s};return{...s,_def:n,createCaller:R()({_def:n})}}}function R(){return function(t){let e=t._def;return function(t,r){return s(async({path:i,args:s})=>{let n;let u=i.join("."),a=e.procedures[u];try{return n="function"==typeof t?await Promise.resolve(t()):t,await a({path:u,getRawInput:async()=>s[0],ctx:n,type:a._def.type})}catch(t){throw r?.onError?.({ctx:n,error:d(t),input:s[0],path:u,type:a._def.type}),t}})}}}function C(...t){let e=u({},...t.map(t=>t._def.record));return O({errorFormatter:t.reduce((t,e)=>{if(e._def._config.errorFormatter&&e._def._config.errorFormatter!==y){if(t!==y&&t!==e._def._config.errorFormatter)throw Error("You seem to have several error formatters");return e._def._config.errorFormatter}return t},y),transformer:t.reduce((t,e)=>{if(e._def._config.transformer&&e._def._config.transformer!==m){if(t!==m&&t!==e._def._config.transformer)throw Error("You seem to have several transformers");return e._def._config.transformer}return t},m),isDev:t.every(t=>t._def._config.isDev),allowOutsideOfServer:t.every(t=>t._def._config.allowOutsideOfServer),isServer:t.every(t=>t._def._config.isServer),$types:t[0]?._def._config.$types})(e)}let S="middlewareMarker";function E(t){if("function"==typeof t)return t;if("function"==typeof t.parseAsync)return t.parseAsync.bind(t);if("function"==typeof t.parse)return t.parse.bind(t);if("function"==typeof t.validateSync)return t.validateSync.bind(t);if("function"==typeof t.create)return t.create.bind(t);if("function"==typeof t.assert)return e=>(t.assert(e),e);throw Error("Could not find a validator fn")}function Q(t,e){let{middlewares:r=[],inputs:i,meta:s,...n}=e;return q({...u(t,n),inputs:[...t.inputs,...i??[]],middlewares:[...t.middlewares,...r],meta:t.meta&&s?{...t.meta,...s}:s??t.meta})}function q(t={}){let e={procedure:!0,inputs:[],middlewares:[],...t};return{_def:e,input(t){let r=E(t);return Q(e,{inputs:[t],middlewares:[function(t){let e=async function(e){let r;let i=await e.getRawInput();try{r=await t(i)}catch(t){throw new p({code:"BAD_REQUEST",cause:t})}let s=a(e.input)&&a(r)?{...e.input,...r}:r;return e.next({input:s})};return e._type="input",e}(r)]})},output(t){let r=E(t);return Q(e,{output:t,middlewares:[function(t){let e=async function({next:e}){let r=await e();if(!r.ok)return r;try{let e=await t(r.data);return{...r,data:e}}catch(t){throw new p({message:"Output validation failed",code:"INTERNAL_SERVER_ERROR",cause:t})}};return e._type="output",e}(r)]})},meta:t=>Q(e,{meta:t}),use:t=>Q(e,{middlewares:"_middlewares"in t?t._middlewares:[t]}),unstable_concat:t=>Q(e,t._def),query:t=>P({...e,type:"query"},t),mutation:t=>P({...e,type:"mutation"},t),subscription:t=>P({...e,type:"subscription"},t),experimental_caller:t=>Q(e,{caller:t})}}function P(t,e){let r=Q(t,{resolver:e,middlewares:[async function(t){return{marker:S,ok:!0,data:await e(t),ctx:t.ctx}}]}),i={...r._def,type:t.type,experimental_caller:!!r._def.caller,meta:r._def.meta,$types:null},s=function(t){async function e(e){if(!e||!("getRawInput"in e))throw Error(D);async function r(i={index:0,ctx:e.ctx}){try{let s=t.middlewares[i.index];return await s({ctx:i.ctx,type:e.type,path:e.path,getRawInput:i.getRawInput??e.getRawInput,meta:t.meta,input:i.input,next:t=>r({index:i.index+1,ctx:t&&"ctx"in t?{...i.ctx,...t.ctx}:i.ctx,input:t&&"input"in t?t.input:i.input,getRawInput:t&&"getRawInput"in t?t.getRawInput:i.getRawInput})})}catch(t){return{ok:!1,error:d(t),marker:S}}}let i=await r();if(!i)throw new p({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!i.ok)throw i.error;return i.data}return e._def=t,e}(r._def),n=r._def.caller;if(!n)return s;let u=async(...t)=>await n({args:t,invoke:s,_def:i});return u._def=i,u}let D=`
This is a client-only function.
If you want to call this function on the server, see https://trpc.io/docs/v11/server/server-side-calls
`.trim(),x="undefined"==typeof window||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||!!globalThis.process?.env?.JEST_WORKER_ID||!!globalThis.process?.env?.VITEST_WORKER_ID;class F{context(){return new F}meta(){return new F}create(t){var e;let r={transformer:"input"in(e=t?.transformer??m)?e:{input:e,output:e},isDev:t?.isDev??globalThis.process?.env.NODE_ENV!=="production",allowOutsideOfServer:t?.allowOutsideOfServer??!1,errorFormatter:t?.errorFormatter??y,isServer:t?.isServer??x,$types:null,experimental:t?.experimental??{}};if(!(t?.isServer??x)&&t?.allowOutsideOfServer!==!0)throw Error("You're trying to use @trpc/server in a non-server environment. This is not supported by default.");return{_config:r,procedure:q({meta:t?.defaultMeta}),middleware:function(t){return function t(e){return{_middlewares:e,unstable_pipe:r=>t([...e,..."_middlewares"in r?r._middlewares:[r]])}}([t])},router:O(r),mergeRouters:C,createCallerFactory:R()}}}new F,Symbol("TypeError")}}]);